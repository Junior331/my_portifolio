import { icons } from "@/app/assets/icons";
import { images } from "@/app/assets/images";
import { cn } from "@/app/utils/utils";
import Image from "next/image";
import React from "react";

export interface OrbitingCirclesProps
  extends React.HTMLAttributes<HTMLDivElement> {
  className?: string;
  children?: React.ReactNode;
  reverse?: boolean;
  duration?: number;
  delay?: number;
  radius?: number;
  path?: boolean;
  iconSize?: number;
  speed?: number;
}

export function OrbitingCircles({
  className,
  children,
  reverse,
  duration = 20,
  radius = 160,
  path = true,
  iconSize = 30,
  speed = 1,
  ...props
}: OrbitingCirclesProps) {
  const calculatedDuration = duration / speed;
  return (
    <>
      {path && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          className="pointer-events-none absolute inset-0 size-full"
        >
          <circle
            className="stroke-white stroke-1 dark:stroke-black"
            cx="50%"
            cy="50%"
            r={radius}
            fill="none"
          />
        </svg>
      )}
      {React.Children.map(children, (child, index) => {
        const angle = (360 / React.Children.count(children)) * index;
        return (
          <div
            style={
              {
                "--duration": calculatedDuration,
                "--radius": radius,
                "--angle": angle,
                "--icon-size": `${iconSize}px`,
              } as React.CSSProperties
            }
            className={cn(
              `absolute flex size-[var(--icon-size)] transform-gpu animate-orbit items-center justify-center rounded-full`,
              { "[animation-direction:reverse]": reverse },
              className
            )}
            {...props}
          >
            {child}
          </div>
        );
      })}
    </>
  );
}

export function OrbitingCirclesDemo() {
  return (
    <div className="relative flex min-h-[500px] w-full flex-col items-center justify-center">

      <Image src={images.avatar} className="max-w-[470px] rounded-[400px] opacity-[0.6]" alt={`Image avatar`} />

      <Image src={icons.devices} className="absolute left-[35px] top-[-20px] z-[2]" alt={`Icon devices`} />

      <Image src={icons.musicPlay} className="absolute right-[35px] bottom-[-20px] z-[2]" alt={`Icon devices`} />

      <OrbitingCircles
        iconSize={60}
        radius={250}
        duration={15}
      >
        <Icons.coffee />
        <Icons.cup />
        <Icons.game />
        <Icons.medalStar />
      </OrbitingCircles>
    </div>
  );
}

const Icons = {
  coffee: () => (
    <svg
      width="47"
      height="48"
      viewBox="0 0 47 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="23.9698" cy="24" r="23.0303" fill="black" />
      <path
        d="M16.6 15.2854C16.0807 15.2854 15.65 14.8547 15.65 14.3354V12.1187C15.65 11.5994 16.0807 11.1687 16.6 11.1687C17.1194 11.1687 17.55 11.5994 17.55 12.1187V14.3354C17.55 14.8674 17.1194 15.2854 16.6 15.2854Z"
        fill="white"
      />
      <path
        d="M21.6667 15.2854C21.1473 15.2854 20.7167 14.8547 20.7167 14.3354V12.1187C20.7167 11.5994 21.1473 11.1687 21.6667 11.1687C22.186 11.1687 22.6167 11.5994 22.6167 12.1187V14.3354C22.6167 14.8674 22.186 15.2854 21.6667 15.2854Z"
        fill="white"
      />
      <path
        d="M26.7333 15.2854C26.214 15.2854 25.7833 14.8547 25.7833 14.3354V12.1187C25.7833 11.5994 26.214 11.1687 26.7333 11.1687C27.2527 11.1687 27.6833 11.5994 27.6833 12.1187V14.3354C27.6833 14.8674 27.2527 15.2854 26.7333 15.2854Z"
        fill="white"
      />
      <path
        d="M37.1833 25.5835C37.1833 22.2648 34.612 19.5795 31.3693 19.3008C30.432 17.7682 28.76 16.7295 26.8346 16.7295H17.4993C14.5606 16.7295 12.1666 19.1235 12.1666 22.0622V22.7335H32.1673V22.0622C32.1673 21.8215 32.1293 21.5808 32.0913 21.3528C33.928 21.8975 35.2833 23.5695 35.2833 25.5835C35.2833 27.5722 33.966 29.2315 32.1673 29.7888V24.0002H12.1666V31.3342C12.1666 34.2728 14.5606 36.6668 17.4993 36.6668H26.8346C29.6213 36.6668 31.8886 34.5135 32.1166 31.7775C35.0046 31.1948 37.1833 28.6362 37.1833 25.5835Z"
        fill="white"
      />
    </svg>
  ),
  cup: () => (
    <svg
      width="48"
      height="47"
      viewBox="0 0 48 47"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="24" cy="23.9695" r="23.0303" fill="black" />
      <path
        d="M23.0501 32.117H20.2001C18.8067 32.117 17.6667 33.257 17.6667 34.6503V34.967H16.4001C15.8807 34.967 15.4501 35.3976 15.4501 35.917C15.4501 36.4363 15.8807 36.867 16.4001 36.867H31.6001C32.1194 36.867 32.5501 36.4363 32.5501 35.917C32.5501 35.3976 32.1194 34.967 31.6001 34.967H30.3334V34.6503C30.3334 33.257 29.1934 32.117 27.8001 32.117H24.9501V29.2163C24.6334 29.2543 24.3167 29.267 24.0001 29.267C23.6834 29.267 23.3667 29.2543 23.0501 29.2163V32.117Z"
        fill="white"
      />
      <path
        d="M32.208 23.7444C33.044 23.4277 33.7787 22.9084 34.3613 22.3257C35.5393 21.021 36.312 19.463 36.312 17.639C36.312 15.815 34.8807 14.3837 33.0567 14.3837H32.3473C31.524 12.699 29.8013 11.5337 27.8 11.5337H20.2C18.1987 11.5337 16.476 12.699 15.6527 14.3837H14.9433C13.1193 14.3837 11.688 15.815 11.688 17.639C11.688 19.463 12.4607 21.021 13.6387 22.3257C14.2213 22.9084 14.956 23.4277 15.792 23.7444C17.1093 26.987 20.276 29.267 24 29.267C27.724 29.267 30.8907 26.987 32.208 23.7444ZM27.5973 19.7037L26.812 20.6664C26.6853 20.8057 26.5967 21.0844 26.6093 21.2744L26.6853 22.5157C26.736 23.2757 26.1913 23.6684 25.482 23.3897L24.3293 22.9337C24.152 22.8704 23.848 22.8704 23.6707 22.9337L22.518 23.3897C21.8087 23.6684 21.264 23.2757 21.3147 22.5157L21.3907 21.2744C21.4033 21.0844 21.3147 20.8057 21.188 20.6664L20.4027 19.7037C19.9087 19.121 20.124 18.475 20.8587 18.285L22.062 17.981C22.252 17.9304 22.48 17.753 22.5813 17.5884L23.2527 16.5497C23.6707 15.9037 24.3293 15.9037 24.7473 16.5497L25.4187 17.5884C25.52 17.753 25.748 17.9304 25.938 17.981L27.1413 18.285C27.876 18.475 28.0913 19.121 27.5973 19.7037Z"
        fill="white"
      />
    </svg>
  ),
  game: () => (
    <svg
      width="47"
      height="48"
      viewBox="0 0 47 48"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="23.0303" cy="24" r="23.0303" fill="black" />
      <path
        d="M28.69 16.0454H16.91C13.1733 16.0454 10.1333 19.0854 10.1333 22.8221V29.8901C10.1333 33.6267 13.1733 36.6667 16.91 36.6667H28.69C32.4266 36.6667 35.4666 33.6267 35.4666 29.8901V22.8221C35.4666 19.0854 32.4266 16.0454 28.69 16.0454ZM25.9666 24.0254C25.9666 23.3287 26.5366 22.7587 27.2333 22.7587C27.93 22.7587 28.5 23.3287 28.5 24.0254C28.5 24.7221 27.93 25.3047 27.2333 25.3047C26.5366 25.3047 25.9666 24.7474 25.9666 24.0507V24.0254ZM20.4313 29.1554C20.2413 29.3454 20.0006 29.4341 19.76 29.4341C19.5193 29.4341 19.2786 29.3454 19.0886 29.1554L17.784 27.8507L16.53 29.1047C16.34 29.2947 16.0993 29.3834 15.8586 29.3834C15.618 29.3834 15.3773 29.2947 15.1873 29.1047C14.82 28.7374 14.82 28.1294 15.1873 27.7621L16.4413 26.5081L15.2253 25.2921C14.858 24.9247 14.858 24.3167 15.2253 23.9494C15.5926 23.5821 16.2006 23.5821 16.568 23.9494L17.784 25.1654L19.038 23.9114C19.4053 23.5441 20.0133 23.5441 20.3806 23.9114C20.748 24.2787 20.748 24.8867 20.3806 25.2541L19.1266 26.5081L20.4313 27.8127C20.7986 28.1801 20.7986 28.7881 20.4313 29.1554ZM24.7506 27.8001C24.054 27.8001 23.4713 27.2301 23.4713 26.5334C23.4713 25.8367 24.0286 25.2667 24.7253 25.2667H24.7506C25.4473 25.2667 26.0173 25.8367 26.0173 26.5334C26.0173 27.2301 25.46 27.8001 24.7506 27.8001ZM27.2333 30.2954C26.5366 30.2954 25.9666 29.7381 25.9666 29.0414V29.0161C25.9666 28.3194 26.5366 27.7494 27.2333 27.7494C27.93 27.7494 28.5 28.3194 28.5 29.0161C28.5 29.7127 27.9426 30.2954 27.2333 30.2954ZM29.7413 27.8001C29.0446 27.8001 28.462 27.2301 28.462 26.5334C28.462 25.8367 29.0193 25.2667 29.716 25.2667H29.7413C30.438 25.2667 31.008 25.8367 31.008 26.5334C31.008 27.2301 30.4506 27.8001 29.7413 27.8001Z"
        fill="white"
      />
      <path
        d="M24.8773 12.2328L24.8647 13.4235C24.852 14.5382 23.9273 15.4628 22.8 15.4628C22.61 15.4628 22.496 15.5895 22.496 15.7542C22.496 15.9188 22.6227 16.0455 22.7873 16.0455H20.748C20.7353 15.9568 20.7227 15.8555 20.7227 15.7542C20.7227 14.6142 21.6473 13.6895 22.7747 13.6895C22.9647 13.6895 23.0913 13.5628 23.0913 13.3982L23.104 12.2075C23.1167 11.7262 23.5093 11.3335 23.9907 11.3335H24.0033C24.4973 11.3335 24.8773 11.7388 24.8773 12.2328Z"
        fill="white"
      />
    </svg>
  ),
  medalStar: () => (
    <svg
      width="48"
      height="47"
      viewBox="0 0 48 47"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="24" cy="23.0303" r="23.0303" fill="black" />
      <path
        d="M35.7167 30.9954L33.6267 31.4894C33.158 31.6034 32.7907 31.9581 32.6893 32.4267L32.246 34.2887C32.0053 35.3021 30.7133 35.6187 30.042 34.8207L26.2547 30.4634C25.9507 30.1087 26.1153 29.5514 26.5713 29.4374C28.8133 28.8927 30.8273 27.6387 32.3093 25.8527C32.55 25.5614 32.9807 25.5234 33.2467 25.7894L36.0587 28.6014C37.0213 29.5641 36.6793 30.7674 35.7167 30.9954Z"
        fill="white"
      />
      <path
        d="M12.22 30.9954L14.31 31.4894C14.7787 31.6034 15.146 31.9581 15.2473 32.4267L15.6907 34.2887C15.9313 35.3021 17.2233 35.6187 17.8947 34.8207L21.682 30.4634C21.986 30.1087 21.8213 29.5514 21.3653 29.4374C19.1233 28.8927 17.1093 27.6387 15.6273 25.8527C15.3867 25.5614 14.956 25.5234 14.69 25.7894L11.878 28.6014C10.9153 29.5641 11.2573 30.7674 12.22 30.9954Z"
        fill="white"
      />
      <path
        d="M24.0001 10.1335C19.0981 10.1335 15.1334 14.0982 15.1334 19.0002C15.1334 20.8369 15.6781 22.5215 16.6154 23.9275C17.9834 25.9542 20.1494 27.3855 22.6701 27.7529C23.1008 27.8289 23.5441 27.8669 24.0001 27.8669C24.4561 27.8669 24.8994 27.8289 25.3301 27.7529C27.8508 27.3855 30.0168 25.9542 31.3848 23.9275C32.3221 22.5215 32.8668 20.8369 32.8668 19.0002C32.8668 14.0982 28.9021 10.1335 24.0001 10.1335ZM27.8761 18.7215L26.8248 19.7729C26.6474 19.9502 26.5461 20.2922 26.6094 20.5455L26.9134 21.8502C27.1541 22.8762 26.6094 23.2815 25.6974 22.7369L24.4308 21.9895C24.2028 21.8502 23.8228 21.8502 23.5948 21.9895L22.3281 22.7369C21.4161 23.2689 20.8714 22.8762 21.1121 21.8502L21.4161 20.5455C21.4668 20.3049 21.3781 19.9502 21.2008 19.7729L20.1241 18.7215C19.5034 18.1009 19.7061 17.4802 20.5674 17.3409L21.9228 17.1129C22.1508 17.0749 22.4168 16.8722 22.5181 16.6695L23.2654 15.1749C23.6708 14.3642 24.3294 14.3642 24.7348 15.1749L25.4821 16.6695C25.5834 16.8722 25.8494 17.0749 26.0901 17.1129L27.4454 17.3409C28.2941 17.4802 28.4968 18.1009 27.8761 18.7215Z"
        fill="white"
      />
    </svg>
  ),
};
